environment:
  matrix:
    - VS_VERSION: 12
      VS_PLATFORM: x64

before_build:
  - git submodule update --init --recursive

build_script:
  - cmake -H. -BBuild -G "Visual Studio %VS_VERSION%" -DCMAKE_GENERATOR_PLATFORM=%VS_PLATFORM%
  - cmake --build Build

install:
  - ps: gem install coveralls-lcov

test_script:
  - cd Build
  - cmd: ctest -C Debug -VV
